"use strict";(self.webpackChunkdocta=self.webpackChunkdocta||[]).push([[111],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>y});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(r),m=o,y=p["".concat(s,".").concat(m)]||p[m]||u[m]||a;return r?n.createElement(y,i(i({ref:t},d),{},{components:r})):n.createElement(y,i({ref:t},d))}));function y(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1716:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=r(7462),o=(r(7294),r(3905));const a={draft:!1,title:"IPNS | SDK",sidebarCollapsible:!1,sidebar_position:4,date:new Date("2023-01-10T09:00:00.000Z"),description:"Learn how to pin a file on IPNS using the service's primary methods. Upload files individually, in bulk, or directly from your local system.",category:"Documentation",keywords:["services","documentation","getting started"],tags:["Accounts","Guide","Learn","Fleek"]},i=void 0,l={unversionedId:"SDK/ipns",id:"SDK/ipns",title:"IPNS | SDK",description:"Learn how to pin a file on IPNS using the service's primary methods. Upload files individually, in bulk, or directly from your local system.",source:"@site/docs/SDK/ipns.md",sourceDirName:"SDK",slug:"/SDK/ipns",permalink:"/docs/SDK/ipns",draft:!1,tags:[{label:"Accounts",permalink:"/docs/tags/accounts"},{label:"Guide",permalink:"/docs/tags/guide"},{label:"Learn",permalink:"/docs/tags/learn"},{label:"Fleek",permalink:"/docs/tags/fleek"}],version:"current",sidebarPosition:4,frontMatter:{draft:!1,title:"IPNS | SDK",sidebarCollapsible:!1,sidebar_position:4,date:"2023-01-10T09:00:00.000Z",description:"Learn how to pin a file on IPNS using the service's primary methods. Upload files individually, in bulk, or directly from your local system.",category:"Documentation",keywords:["services","documentation","getting started"],tags:["Accounts","Guide","Learn","Fleek"]},sidebar:"default",previous:{title:"IPFS | SDK",permalink:"/docs/SDK/ipfs"},next:{title:"Privacy Policies",permalink:"/docs/privacy"}},s={},c=[{value:"How to Create an IPNS Record",id:"how-to-create-an-ipns-record",level:3},{value:"How to Publish an IPNS Record",id:"how-to-publish-an-ipns-record",level:3},{value:"List All Records",id:"list-all-records",level:3},{value:"Delete a Record",id:"delete-a-record",level:3}],d={toc:c};function p(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"how-to-create-an-ipns-record"},"How to Create an IPNS Record"),(0,o.kt)("p",null,"To create an IPNS record using the SDK, you need to be authenticated and have a project selected."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const record = await sdk.ipns().createRecord();\n")),(0,o.kt)("p",null,"This returns an object with the following properties:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"id: The IPNS record ID on Fleek DB.\nname: The name of the IPNS record.\nhash: The IPFS CID associated with the record.\n")),(0,o.kt)("p",null,"Initially, all records are created with an empty IPFS hash. To add it, you will need to publish it."),(0,o.kt)("p",null,"You can query the record by name:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const record = await sdk.ipns().getRecord({ name: record.name });\n")),(0,o.kt)("h3",{id:"how-to-publish-an-ipns-record"},"How to Publish an IPNS Record"),(0,o.kt)("p",null,"To publish an IPNS record, you need to provide the IPNS record name and the IPFS hash you want to associate with it."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const record = await sdk.ipns().publishRecord({ id: record.id, hash });\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"It is important to note that IPNS propagation can take anywhere from 1 to 30 minutes.")),(0,o.kt)("h3",{id:"list-all-records"},"List All Records"),(0,o.kt)("p",null,"To list all the records associated with a project, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"listRecords")," method."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const records = await sdk.ipns().listRecords();\n")),(0,o.kt)("h3",{id:"delete-a-record"},"Delete a Record"),(0,o.kt)("p",null,"To delete an IPNS record, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"deleteRecord")," method."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"await sdk.ipns().deleteRecord({ id: record.id });\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Remember that IPNS propagation can take from 1 to 30 minutes.")))}p.isMDXComponent=!0}}]);