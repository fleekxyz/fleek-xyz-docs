"use strict";(self.webpackChunkdocta=self.webpackChunkdocta||[]).push([[585],{3905:(e,t,a)=>{a.d(t,{Zo:()=>y,kt:()=>p});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},y=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,y=s(e,["components","mdxType","originalType","parentName"]),u=c(a),m=o,p=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return a?n.createElement(p,i(i({ref:t},y),{},{components:a})):n.createElement(p,i({ref:t},y))}));function p(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5255:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var n=a(7462),o=(a(7294),a(3905));const r={draft:!1,title:"Gateway | CLI",sidebarCollapsible:!1,sidebar_position:8,date:new Date("2023-01-10T09:00:00.000Z"),description:"Learn how to set up and configure a private gateway on Fleek, serving content from your storage via a custom domain.",category:"Documentation",keywords:["services","documentation","getting started"],tags:["Accounts","Guide","Learn","Fleek"]},i=void 0,s={unversionedId:"CLI/gateway",id:"CLI/gateway",title:"Gateway | CLI",description:"Learn how to set up and configure a private gateway on Fleek, serving content from your storage via a custom domain.",source:"@site/docs/CLI/gateway.md",sourceDirName:"CLI",slug:"/CLI/gateway",permalink:"/docs/CLI/gateway",draft:!1,tags:[{label:"Accounts",permalink:"/docs/tags/accounts"},{label:"Guide",permalink:"/docs/tags/guide"},{label:"Learn",permalink:"/docs/tags/learn"},{label:"Fleek",permalink:"/docs/tags/fleek"}],version:"current",sidebarPosition:8,frontMatter:{draft:!1,title:"Gateway | CLI",sidebarCollapsible:!1,sidebar_position:8,date:"2023-01-10T09:00:00.000Z",description:"Learn how to set up and configure a private gateway on Fleek, serving content from your storage via a custom domain.",category:"Documentation",keywords:["services","documentation","getting started"],tags:["Accounts","Guide","Learn","Fleek"]},sidebar:"default",previous:{title:"ENS | CLI",permalink:"/docs/CLI/ens"},next:{title:"IPFS | CLI",permalink:"/docs/CLI/ipfs"}},l={},c=[{value:"Creating a private gateway",id:"creating-a-private-gateway",level:3},{value:"Exploring the private gateway settings",id:"exploring-the-private-gateway-settings",level:3},{value:"Adding a custom domain to an existing gateway",id:"adding-a-custom-domain-to-an-existing-gateway",level:3}],y={toc:c};function u(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},y,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"creating-a-private-gateway"},"Creating a private gateway"),(0,o.kt)("p",null,"To create a private gateway you will need to have a Fleek project and a custom domain. Currently we are making mandatory that each private gateway has at least one custom domain associated with it to avoid abuse."),(0,o.kt)("p",null,"To create a gateway using the CLI you will need to run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Creating a Gateway" copy',filename:'"Creating',a:!0,'Gateway"':!0,copy:!0},'> fleek gateways create\n\u2714 Enter private gateway name (eg. first): \u2026 my-first-gateway\n> Success! Private gateway "my-first-gateway" successfully created.\n')),(0,o.kt)("p",null,"The next step will be to configure the custom domain for your gateway. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Configuring the custom domain" copy',filename:'"Configuring',the:!0,custom:!0,'domain"':!0,copy:!0},'> fleek gateways create\n\u2714 Enter private gateway name (eg. first): \u2026 my-first-gateway\n\u2714 Enter domain name (eg. example.com): \u2026 ipfs.my-gateway.online\n> Success! Domain "ipfs.my-gateway.online" successfully created.   \n')),(0,o.kt)("p",null,"Now that the domain is created you will need to set up the correct DNS records to make sure that your domain points to the CDN pull zone. The CLI will provide you with the DNS records you need to add to your domain."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Setting up the DNS records" copy',filename:'"Setting',up:!0,the:!0,DNS:!0,'records"':!0,copy:!0},'> fleek gateways creat\n\u2714 Enter private gateway name (eg. first): \u2026 my-first-gateway\n\u2714 Enter domain name (eg. example.com): \u2026 ipfs.my-gateway.online\n> Success! Domain "ipfs.my-gateway.online" successfully created.\n> Update DNS records for "ipfs.my-gateway.online":\n> CNAME @ <your-pullzone-id>.fleekcdn.xyz\n> Press any key as soon as you configure your domain provider for verification.\n')),(0,o.kt)("p",null,"If you need help configuring your DNS records, you can find more information in our ",(0,o.kt)("a",{parentName:"p",href:"/guides/dns-records"},"DNS records guide"),"."),(0,o.kt)("p",null,"Once you have confured your DNS records, you can verify your domain. To do this, you will need to press any key in the CLI. This will trigger a verification process that will check if the DNS records are correctly configured."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Finish" copy',filename:'"Finish"',copy:!0},'> fleek gateways create\n\u2714 Enter private gateway name (eg. first): \u2026 my-first-gateway\n\u2714 Enter domain name (eg. example.com): \u2026 ipfs.my-gateway.online\n> Success! Domain "ipfs.my-gateway.online" successfully created.\n> Update DNS records for "ipfs.my-gateway.online":\n> CNAME @ <your-pullzone-id>.fleekcdn.xyz\n> Press any key as soon as you configure your domain provider for verification.\n> Success! Domain "ipfs.my-gateway.online" was verified.    \n')),(0,o.kt)("p",null,"Now that your domain is verified, you can start using it to serve your content. The content will no appear under ",(0,o.kt)("inlineCode",{parentName:"p"},"ipfs.my-gateway.online/ipfs/<cid>")),(0,o.kt)("h3",{id:"exploring-the-private-gateway-settings"},"Exploring the private gateway settings"),(0,o.kt)("p",null,"At any moment you can access the private gateway settings by running the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Gateway settings" copy',filename:'"Gateway','settings"':!0,copy:!0},"> fleek gateways detail\nWARN! Fleek CLI is in beta, use it at your own discretion\n\u2714 Choose existing private gateway: \u203a beefy-clever-autumn\n\nID                         Slug                 Name                    Created At              \n------------------------------------------------------------------------------------------------\ncljqwfv790002lc08g6nmf8e0  beefy-clever-autumn  my-first-gateway  2023-07-06T08:41:58.963Z\n\n> You can access your content through domains bellow:\n> https://ipfs.my-gateway.online/ipfs/<cid>\n")),(0,o.kt)("h3",{id:"adding-a-custom-domain-to-an-existing-gateway"},"Adding a custom domain to an existing gateway"),(0,o.kt)("p",null,"To add a domain to an existing gateway you will need to run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Adding a custom domain" copy',filename:'"Adding',a:!0,custom:!0,'domain"':!0,copy:!0},"> fleek domains create\n")),(0,o.kt)("p",null,"And you need to select the private gateway option and then select the gateway you want to add the domain to and then follow the wizard like in the creation."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shellscript",metastring:'filename="Adding a custom domain" copy',filename:'"Adding',a:!0,custom:!0,'domain"':!0,copy:!0},'> fleek domains create\n\u2714 Choose what do you want domain create for: \u203a Private gateway\n\u2714 Choose existing private gateway: \u203a my-first-gateway\n\u2714 Enter domain name (eg. example.com): \u2026 my-new-domain-ipfs.my-gateway.online\n> Success! Domain "my-new-domain-ipfs.my-gateway.online" successfully created.\n> Update DNS records for "my-new-domain-ipfs.my-gateway.online":\n> CNAME @ <your-pullzone-id>.fleekcdn.xyz\n> Press any key as soon as you configure your domain provider for verification.\n> Success! Domain "my-new-domain-ipfs.my-gateway.online" was verified.\n')))}u.isMDXComponent=!0}}]);